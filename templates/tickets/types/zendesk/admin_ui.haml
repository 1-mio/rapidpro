-load i18n

%html(lang="en")
  %head
    %link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@zendeskgarden/css-buttons@7.0.19/dist/index.min.css")
    %link(rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@zendeskgarden/css-forms@7.0.20/dist/index.min.css")
    %meta(charset="utf-8")
    %style
      body {
        font-family: sans-serif;
        font-size: 14px;
        color: rgb(85, 85, 85);
        max-width: 370px;
      }
      .c-txt__label {
        color: rgb(85, 85, 85);
      }
      .c-txt {
        margin-bottom: 15px;
      }
      .first {
        margin-top: 15px;
      }
  %body
    .preamble
      -blocktrans trimmed
        This will connect your TextIt account with Zendesk.

    %small.c-txt__message.c-txt__message--error
      {{ error }}

    %form(method="post" id="admin_form")
      .first.c-txt.u-mb-sm
        %label.c-txt__label(for="name")
          -trans "Name"
        %input.c-txt__input(type="text" name="name" value="{{ name }}")
        %small.c-txt__message
          %span(dir="ltr")
            -trans "The display name of this account"
      .c-txt.u-mb-sm
        %label.c-txt__label(for="token")
          -trans "API Token"
        %input.c-txt__input(type="text" name="token" value="{{ token }}")
        %small.c-txt__message
          %span(dir="ltr")
            -trans "The TextIt API Token"

      %input(type="hidden" name="metadata" value="{{ metadata }}")
      %input(type="hidden" name="subdomain" value="{{ subdomain }}")
      %input(type="hidden" name="return_url" value="{{ return_url }}")

      %button.c-btn.u-mt-sm(type="submit" form="admin_form")
        -if metadata
          -trans "Update"
        -else
          -trans "Add"

